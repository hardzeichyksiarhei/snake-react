(this["webpackJsonpsnake-react"]=this["webpackJsonpsnake-react"]||[]).push([[0],{34:function(e,t,n){},44:function(e,t,n){e.exports=n(54)},49:function(e,t,n){},50:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(8),o=n.n(c),i=(n(49),n(15)),l=n(11),u=(n(50),n(35)),s=n(13),f=n(36),m=(n(34),n(87)),d=n(57),x=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],c=n[1];function o(t){t.key===e&&c(!0)}var i=function(t){t.key===e&&c(!1)};return Object(a.useEffect)((function(){return window.addEventListener("keydown",o),window.addEventListener("keyup",i),function(){window.removeEventListener("keydown",o),window.removeEventListener("keyup",i)}})),r},b=function(e){return r.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(".concat(e.cols,", 1fr)"),gridTemplateRows:"repeat(".concat(e.rows,", 1fr)")},className:"snake-grid"},e.children)},p=n(37),w=n.n(p),y=function(e){return r.a.createElement("div",{className:w()({"snake-cell":!0,"snake-cell--snake":e.isSnake,"snake-cell--snake-head":e.isSnakeHead,"snake-cell--food":e.isFood})})},O={x:0,y:-1},v={x:0,y:1},E={x:-1,y:0},j={x:1,y:0},k=function(e,t,n){var a={x:0,y:0};do{a.x=Math.floor(Math.random()*n),a.y=Math.floor(Math.random()*t)}while(-1!==e.findIndex((function(e){return e.x===a.x&&e.y===a.y})));return a},h=function(e,t){var n={x:Math.floor(e/2),y:Math.floor(t/2)};return[n,{x:n.x,y:n.y-1},{x:n.x,y:n.y-2}]},g=function(e,t){for(var n=[],a=0;a<e;a++)for(var r=0;r<t;r++)n.push({x:r,y:a});return n},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{row:12,col:12},t=Object(a.useState)(!1),n=Object(l.a)(t,2),c=n[0],o=n[1],p=Object(a.useState)(100),w=Object(l.a)(p,2),S=w[0],R=w[1],N=Object(a.useState)((function(){return g(e.row,e.col)})),M=Object(l.a)(N,2),T=M[0],W=M[1],L=Object(a.useState)((function(){return h(e.row,e.col)})),G=Object(l.a)(L,2),C=G[0],I=G[1],D=Object(a.useState)((function(){return k(C,e.col,e.row)})),A=Object(l.a)(D,2),F=A[0],H=A[1],B=Object(a.useState)(Object(i.a)({text:"DOWN"},v)),U=Object(l.a)(B,2),J=U[0],P=U[1],V=function(e,t){return-1!==C.findIndex((function(n){return n.x===e&&n.y===t}))},$=function(e,t){var n=Object(l.a)(C,1)[0];return e===n.x&&t===n.y},q=function(e,t){return e===F.x&&t===F.y},z=function(e,t){return e===F.x&&t===F.y},K=function(t){return t>=e.row?0:t<0?e.row-1:t},Q=function(t){return t>=e.col?0:t<0?e.col-1:t},X=function(t){var n=Object(l.a)(t,1)[0],a={x:Q(n.x+J.x),y:K(n.y+J.y)};return z(a.x,a.y)?(H((function(t){return k(C,e.col,e.row)})),R((function(e){return e&&e>=20?e-2:e})),[a].concat(Object(s.a)(t))):[a].concat(Object(s.a)(t.slice(0,-1)))},Y=Object(u.a)(C),Z=Y[0],_=Y.slice(1),ee=function(){return-1!==_.findIndex((function(e){return e.x===Z.x&&e.y===Z.y}))};Object(f.a)((function(){if(c)return ee()?(alert("Losing..."),R(null),void ie()):void I((function(e){return X(e)}))}),S);var te=x("ArrowUp"),ne=x("ArrowDown"),ae=x("ArrowLeft"),re=x("ArrowRight");Object(a.useEffect)((function(){te&&"DOWN"!==J.text&&P(Object(i.a)({text:"UP"},O)),ne&&"UP"!==J.text&&P(Object(i.a)({text:"DOWN"},v)),ae&&"RIGHT"!==J.text&&P(Object(i.a)({text:"LEFT"},E)),re&&"LEFT"!==J.text&&P(Object(i.a)({text:"RIGHT"},j))}),[te,ne,ae,re]);var ce=function(){o(!0)},oe=function(){o(!1)},ie=function(){o(!1),W((function(){return g(e.row,e.col)})),I((function(){return h(e.row,e.col)})),R(100),P(Object(i.a)({text:"DOWN"},v)),H((function(){return k(C,e.row,e.col)}))};return Object(a.useEffect)(ie,[e.row,e.col]),r.a.createElement("div",{className:"snake-wrapper"},r.a.createElement(b,{rows:e.row,cols:e.col},T.map((function(e){var t=e.x,n=e.y;return r.a.createElement(y,{key:"".concat(t,"-").concat(n),isSnake:V(t,n),isSnakeHead:$(t,n),isFood:q(t,n)})}))),r.a.createElement(m.a,{variant:"contained",color:"primary","aria-label":"text primary button group"},r.a.createElement(d.a,{onClick:ce,disabled:c},"Start Game"),r.a.createElement(d.a,{color:"secondary",onClick:oe,disabled:!c},"Stop Game"),r.a.createElement(d.a,{color:"default",onClick:ie},"Refresh Game")))},R=n(92),N=n(93),M=n(94),T=n(95),W=n(96),L=n(91),G=n(55),C=n(97),I=function(e){var t=Object(a.useRef)(null),n=Object(a.useRef)(null),c=Object(a.useState)(!0),o=Object(l.a)(c,2),i=o[0],u=o[1],s=Object(a.useState)(!0),f=Object(l.a)(s,2),m=f[0],x=f[1],b=8,p=30;return r.a.createElement("div",null,r.a.createElement(L.a,{container:!0,spacing:3},r.a.createElement(L.a,{item:!0,xs:6},r.a.createElement(C.a,{id:"row",label:"Row",fullWidth:!0,margin:"normal",inputRef:t,helperText:"Min: ".concat(b,", Max: ").concat(p),error:!i,type:"number",defaultValue:"16"})),r.a.createElement(L.a,{item:!0,xs:6},r.a.createElement(C.a,{id:"col",label:"Col",fullWidth:!0,margin:"normal",inputRef:n,helperText:"Min: ".concat(b,", Max: ").concat(p),error:!m,type:"number",defaultValue:"16"}))),r.a.createElement(d.a,{style:{marginTop:15},variant:"contained",color:"primary",onClick:function(){if(u(!0),x(!0),t.current&&n.current){var a=+t.current.value,r=+n.current.value;if(a<b||a>p)u(!1);else if(r<b||r>p)x(!1);else{var c={row:a,col:r};e.onSave(c)}}}},"Render"))},D=Object(R.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},paper:{padding:e.spacing(4),color:e.palette.text.secondary}}})),A=function(){var e=D(),t=Object(a.useState)({isRender:!1,settings:{row:16,col:16}}),n=Object(l.a)(t,2),c=n[0],o=n[1];return r.a.createElement("div",{className:"snake-app"},r.a.createElement(N.a,{position:"static"},r.a.createElement(M.a,null,r.a.createElement(T.a,{variant:"h6",className:e.title},"Shake"))),r.a.createElement(W.a,{className:"snake-content",maxWidth:"lg"},r.a.createElement(L.a,{container:!0,spacing:3},r.a.createElement(L.a,{item:!0,xs:6},r.a.createElement(G.a,{className:e.paper},r.a.createElement(I,{onSave:function(e){o((function(t){return Object(i.a)({},t,{isRender:!0,settings:e})}))}}))),r.a.createElement(L.a,{item:!0,xs:6},r.a.createElement(G.a,{className:e.paper},c.isRender?r.a.createElement(S,c.settings):"Empty")))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.b9a3360c.chunk.js.map